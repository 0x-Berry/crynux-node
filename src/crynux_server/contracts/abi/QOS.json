{
  "contractName": "QOS",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeContract",
          "type": "address"
        }
      ],
      "name": "updateNodeContractAddress",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "taskContract",
          "type": "address"
        }
      ],
      "name": "updateTaskContractAddress",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "threshold",
          "type": "uint256"
        }
      ],
      "name": "updateKickoutThreshold",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "startTask",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "finishTask",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "i",
          "type": "uint256"
        }
      ],
      "name": "addTaskScore",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "punish",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "getTaskScore",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "getRecentTaskScore",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "getCurrentTaskScore",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nodeAddress",
          "type": "address"
        }
      ],
      "name": "shouldKickOut",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTaskScoreLimit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"i\",\"type\":\"uint256\"}],\"name\":\"addTaskScore\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"finishTask\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"getCurrentTaskScore\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"getRecentTaskScore\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"getTaskScore\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTaskScoreLimit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"punish\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"shouldKickOut\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeAddress\",\"type\":\"address\"}],\"name\":\"startTask\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"threshold\",\"type\":\"uint256\"}],\"name\":\"updateKickoutThreshold\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"nodeContract\",\"type\":\"address\"}],\"name\":\"updateNodeContractAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"taskContract\",\"type\":\"address\"}],\"name\":\"updateTaskContractAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/QOS.sol\":\"QOS\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"keccak256\":\"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fc980984badf3984b6303b377711220e067722bbd6a135b24669ff5069ef9f32\",\"dweb:/ipfs/QmPHXMSXj99XjSVM21YsY6aNtLLjLVXDbyN76J5HQYvvrz\"]},\"@openzeppelin/contracts/utils/Context.sol\":{\"keccak256\":\"0xa92e4fa126feb6907daa0513ddd816b2eb91f30a808de54f63c17d0e162c3439\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a367861093b74443b137564d3f3c472f70bcf114739e62059c939f25e315706c\",\"dweb:/ipfs/Qmd7JMpcxD9RuQjK3uM3EzJUgSqdN8vzp8eytEiuwxQJ6h\"]},\"project:/contracts/QOS.sol\":{\"keccak256\":\"0xaec2e09d9406ece67f93ac818727976463372d60a429f5cdf7999a70060ffcaa\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://d10c80e56bd0a4b0a0bdd11164078bf39b883847dac213e26d4e70c9ac48c322\",\"dweb:/ipfs/QmeNS6UhRbmhhh8BSHjg6Q7gsJ2YYFdBckQFjkTFqWj2uU\"]}},\"version\":1}",
  "bytecode": "0x60e0604052600a6080908152600960a052600660c052610023906001906003610094565b5034801561003057600080fd5b5061003a33610044565b60146009556100ec565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b82600381019282156100c7579160200282015b828111156100c7578251829060ff169055916020019190600101906100a7565b506100d39291506100d7565b5090565b5b808211156100d357600081556001016100d8565b610a05806100fb6000396000f3fe608060405234801561001057600080fd5b50600436106100f55760003560e01c8063886673a311610097578063b055757d11610066578063b055757d146101e2578063c6c8b6f71461020b578063ea7221a11461021e578063f2fde38b1461023157600080fd5b8063886673a31461018e5780638da5cb5b146101a1578063a5a4e94a146101bc578063a903e689146101cf57600080fd5b80635f51c765116100d35780635f51c7651461013d578063715018a614610150578063739ecbc41461015857806381d6d1a31461017b57600080fd5b80633fc0f48b146100fa578063421452301461010f57806346af6c7b14610122575b600080fd5b61010d6101083660046108af565b610244565b005b61010d61011d3660046108af565b6102df565b61012a610309565b6040519081526020015b60405180910390f35b61010d61014b3660046108af565b610339565b61010d610461565b61016b6101663660046108af565b610475565b6040519015158152602001610134565b61010d6101893660046108d1565b61052b565b61012a61019c3660046108af565b61060b565b6000546040516001600160a01b039091168152602001610134565b61010d6101ca3660046108fb565b610669565b61012a6101dd3660046108af565b610676565b61012a6101f03660046108af565b6001600160a01b031660009081526008602052604090205490565b61010d6102193660046108af565b6106d7565b61010d61022c3660046108af565b610701565b61010d61023f3660046108af565b610775565b6004546001600160a01b031633146102a35760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865206e6f646520636f6e74726163740060448201526064015b60405180910390fd5b6001600160a01b038116600090815260086020908152604080832054600790925282208054919290916102d7908490610940565b909155505050565b6102e76107ee565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6003546002546001546000929161031f91610940565b6103299190610940565b610334906002610953565b905090565b6004546001600160a01b031633146103935760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865206e6f646520636f6e747261637400604482015260640161029a565b6001600160a01b03811660009081526006602052604081208054916103b78361096a565b90915550600090506103cb60016003610983565b90505b8015610446576001600160a01b03821660009081526008602052604090206103f7600183610983565b6003811061040757610407610914565b01546001600160a01b0383166000908152600860205260409020826003811061043257610432610914565b01558061043e81610996565b9150506103ce565b506001600160a01b0316600090815260086020526040812055565b6104696107ee565b6104736000610848565b565b6001600160a01b038116600090815260066020526040812054819060038110156104c9576001546104a7826003610983565b6104b19190610953565b6104bc906002610953565b6104c69083610940565b91505b60005b600381101561051e576001600160a01b038516600090815260086020526040902081600381106104fe576104fe610914565b015461050a9084610940565b9250806105168161096a565b9150506104cc565b5050600954101592915050565b6005546001600160a01b031633146105855760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865207461736b20636f6e747261637400604482015260640161029a565b600381106105c55760405162461bcd60e51b815260206004820152600d60248201526c092dcecc2d8d2c840d2dcc8caf609b1b604482015260640161029a565b600181600381106105d8576105d8610914565b01546001600160a01b03831660009081526008602052604081200160008282546106029190610940565b90915550505050565b600080805b6003811015610662576001600160a01b0384166000908152600860205260409020816003811061064257610642610914565b015461064e9083610940565b91508061065a8161096a565b915050610610565b5092915050565b6106716107ee565b600955565b6001600160a01b038116600090815260066020526040812054810361069d5750600e919050565b6001600160a01b0382166000908152600660209081526040808320546007909252909120546106cc91906109ad565b92915050565b919050565b6106df6107ee565b600480546001600160a01b0319166001600160a01b0392909216919091179055565b6005546001600160a01b0316331461075b5760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865207461736b20636f6e747261637400604482015260640161029a565b6001600160a01b0316600090815260086020526040812055565b61077d6107ee565b6001600160a01b0381166107e25760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161029a565b6107eb81610848565b50565b6000546001600160a01b031633146104735760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161029a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b03811681146106d257600080fd5b6000602082840312156108c157600080fd5b6108ca82610898565b9392505050565b600080604083850312156108e457600080fd5b6108ed83610898565b946020939093013593505050565b60006020828403121561090d57600080fd5b5035919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b808201808211156106cc576106cc61092a565b80820281158282048414176106cc576106cc61092a565b60006001820161097c5761097c61092a565b5060010190565b818103818111156106cc576106cc61092a565b6000816109a5576109a561092a565b506000190190565b6000826109ca57634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220e1d1e7f82ba7ef096fe460c8fa6a5cd8ac88384700e6fe958e17f37779ba96a464736f6c63430008120033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100f55760003560e01c8063886673a311610097578063b055757d11610066578063b055757d146101e2578063c6c8b6f71461020b578063ea7221a11461021e578063f2fde38b1461023157600080fd5b8063886673a31461018e5780638da5cb5b146101a1578063a5a4e94a146101bc578063a903e689146101cf57600080fd5b80635f51c765116100d35780635f51c7651461013d578063715018a614610150578063739ecbc41461015857806381d6d1a31461017b57600080fd5b80633fc0f48b146100fa578063421452301461010f57806346af6c7b14610122575b600080fd5b61010d6101083660046108af565b610244565b005b61010d61011d3660046108af565b6102df565b61012a610309565b6040519081526020015b60405180910390f35b61010d61014b3660046108af565b610339565b61010d610461565b61016b6101663660046108af565b610475565b6040519015158152602001610134565b61010d6101893660046108d1565b61052b565b61012a61019c3660046108af565b61060b565b6000546040516001600160a01b039091168152602001610134565b61010d6101ca3660046108fb565b610669565b61012a6101dd3660046108af565b610676565b61012a6101f03660046108af565b6001600160a01b031660009081526008602052604090205490565b61010d6102193660046108af565b6106d7565b61010d61022c3660046108af565b610701565b61010d61023f3660046108af565b610775565b6004546001600160a01b031633146102a35760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865206e6f646520636f6e74726163740060448201526064015b60405180910390fd5b6001600160a01b038116600090815260086020908152604080832054600790925282208054919290916102d7908490610940565b909155505050565b6102e76107ee565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6003546002546001546000929161031f91610940565b6103299190610940565b610334906002610953565b905090565b6004546001600160a01b031633146103935760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865206e6f646520636f6e747261637400604482015260640161029a565b6001600160a01b03811660009081526006602052604081208054916103b78361096a565b90915550600090506103cb60016003610983565b90505b8015610446576001600160a01b03821660009081526008602052604090206103f7600183610983565b6003811061040757610407610914565b01546001600160a01b0383166000908152600860205260409020826003811061043257610432610914565b01558061043e81610996565b9150506103ce565b506001600160a01b0316600090815260086020526040812055565b6104696107ee565b6104736000610848565b565b6001600160a01b038116600090815260066020526040812054819060038110156104c9576001546104a7826003610983565b6104b19190610953565b6104bc906002610953565b6104c69083610940565b91505b60005b600381101561051e576001600160a01b038516600090815260086020526040902081600381106104fe576104fe610914565b015461050a9084610940565b9250806105168161096a565b9150506104cc565b5050600954101592915050565b6005546001600160a01b031633146105855760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865207461736b20636f6e747261637400604482015260640161029a565b600381106105c55760405162461bcd60e51b815260206004820152600d60248201526c092dcecc2d8d2c840d2dcc8caf609b1b604482015260640161029a565b600181600381106105d8576105d8610914565b01546001600160a01b03831660009081526008602052604081200160008282546106029190610940565b90915550505050565b600080805b6003811015610662576001600160a01b0384166000908152600860205260409020816003811061064257610642610914565b015461064e9083610940565b91508061065a8161096a565b915050610610565b5092915050565b6106716107ee565b600955565b6001600160a01b038116600090815260066020526040812054810361069d5750600e919050565b6001600160a01b0382166000908152600660209081526040808320546007909252909120546106cc91906109ad565b92915050565b919050565b6106df6107ee565b600480546001600160a01b0319166001600160a01b0392909216919091179055565b6005546001600160a01b0316331461075b5760405162461bcd60e51b815260206004820152601f60248201527f4e6f742063616c6c656420627920746865207461736b20636f6e747261637400604482015260640161029a565b6001600160a01b0316600090815260086020526040812055565b61077d6107ee565b6001600160a01b0381166107e25760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161029a565b6107eb81610848565b50565b6000546001600160a01b031633146104735760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161029a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b03811681146106d257600080fd5b6000602082840312156108c157600080fd5b6108ca82610898565b9392505050565b600080604083850312156108e457600080fd5b6108ed83610898565b946020939093013593505050565b60006020828403121561090d57600080fd5b5035919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b808201808211156106cc576106cc61092a565b80820281158282048414176106cc576106cc61092a565b60006001820161097c5761097c61092a565b5060010190565b818103818111156106cc576106cc61092a565b6000816109a5576109a561092a565b506000190190565b6000826109ca57634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220e1d1e7f82ba7ef096fe460c8fa6a5cd8ac88384700e6fe958e17f37779ba96a464736f6c63430008120033"
}